<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SpeedyDelivery</title>
<style>
/* -------------------- GENERAL -------------------- */
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #f5f5f5;
}
header {
  background: #ff6600;
  padding: 20px;
  color: white;
  display: flex;
  justify-content: space-between;
  align-items: center;
  position: sticky;
  top: 0;
  z-index: 100;
}
nav a {
  color: white;
  margin-left: 20px;
  text-decoration: none;
  font-weight: bold;
  cursor: pointer;
}
.hero {
  background-image: url('https://images.unsplash.com/photo-1604145559207-5c8e3f0b0dfb?auto=format&fit=crop&w=1500&q=80');
  background-size: cover;
  background-position: center;
  height: 400px;
  display: flex;
  justify-content: center;
  align-items: center;
  color: white;
  text-shadow: 2px 2px 5px #000;
}
.hero h1 {
  font-size: 48px;
  text-align: center;
}
.section {
  padding: 40px 20px;
  text-align: center;
}
.cards {
  display: flex;
  justify-content: center;
  gap: 30px;
  flex-wrap: wrap;
}
.card {
  border: 1px solid #ccc;
  border-radius: 10px;
  padding: 20px;
  width: 250px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}
footer {
  background: #222;
  color: #aaa;
  text-align: center;
  padding: 20px;
}
#tracking-section {
  background: #f9f9f9;
  padding: 40px 20px;
}
/* -------------------- TIMELINE -------------------- */
.timeline-container {
  position: relative;
  margin-left: 30px;
  padding-left: 20px;
  border-left: 2px solid #ddd;
  overflow: hidden;
}
.timeline-item {
  position: relative;
  margin-bottom: 25px;
  padding-left: 15px;
}
.timeline-dot {
  width: 14px;
  height: 14px;
  border-radius: 50%;
  position: absolute;
  left: -28px;
  top: 5px;
  z-index: 2;
}
.delivered { background-color: #28a745; }
.updated { background-color: #ff9800; }
.future { background-color: #ccc; opacity: 0.4; }
.status-text { font-weight: bold; }
.status-text.latest { font-size: 1.2em; background: #fff4e0; padding: 3px 6px; border-radius: 3px; }
.location { font-size: 0.9em; color: #0077cc; }
.time { font-size: 0.8em; color: #666; }
.pulse {
  position: absolute;
  left: -5px;
  top: -5px;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: rgba(255,152,0,0.3);
  animation: pulse 1.5s infinite;
}
@keyframes pulse {
  0% {transform: scale(0.7); opacity: 0.7;}
  50% {transform: scale(1.4); opacity:0;}
  100% {transform: scale(0.7); opacity:0.7;}
}
.fold-btn {
  cursor: pointer;
  color: #0077cc;
  font-size: 0.9em;
  margin-top: 5px;
  display: block;
}
.hidden { display: none; }
</style>
</head>
<body>

<header>
  <h2>SpeedyDelivery</h2>
  <nav>
    <a href="#">Home</a>
    <a href="#">Services</a>
    <a href="#tracking-section">Track</a>
    <a href="#">Contact</a>
  </nav>
</header>

<section class="hero">
  <h1>Fast, Reliable & On-Time Delivery</h1>
</section>

<section class="section">
  <h2>Why Choose Us?</h2>
  <div class="cards">
    <div class="card"><h3>Fast Delivery</h3><p>We deliver within hours, not days.</p></div>
    <div class="card"><h3>Real-time Tracking</h3><p>Track your package live with our mobile app.</p></div>
    <div class="card"><h3>24/7 Support</h3><p>We're here for you anytime, anywhere.</p></div>
  </div>
</section>

<section class="section">
  <h2>Popular Packages</h2>
  <div class="cards">
    <div class="card"><h3>Express Delivery</h3><p>Within 2 hours across the city.</p></div>
    <div class="card"><h3>Same-Day Delivery</h3><p>Perfect for e-commerce and urgent needs.</p></div>
    <div class="card"><h3>Nationwide</h3><p>Fast shipping to every corner of the country.</p></div>
  </div>
</section>

<section id="tracking-section">
  <h2>Tracking ID: SP229600647</h2>
  <div id="tracking-result"></div>
</section>

<footer>
  &copy; 2025 SpeedyDelivery. All rights reserved.
</footer>

<script>
// -------------------- HARD-CODED TRACKING DATA --------------------
const trackingId = "SP229600647";
let data = JSON.parse(localStorage.getItem("trackingData")) || {};

if (!(trackingId in data)) {
  data[trackingId] = [
    { status: "Label Created, not yet in system", location: "", time: new Date().toISOString() }
  ];
  localStorage.setItem("trackingData", JSON.stringify(data));
}

// -------------------- RENDER TIMELINE --------------------
function renderTimeline(history, container) {
  container.innerHTML = "";
  const timeline = document.createElement("div");
  timeline.classList.add("timeline-container");

  // Fold older statuses if more than 4
  let foldIndex = history.length > 4 ? history.length - 4 : 0;

  history.forEach((update, index) => {
    const item = document.createElement("div");
    item.classList.add("timeline-item");

    // Dot
    const dot = document.createElement("div");
    dot.classList.add("timeline-dot");
    if (update.status.toLowerCase().includes("delivered")) dot.classList.add("delivered");
    else if (update.status.toLowerCase().includes("label created")) dot.classList.add("future");
    else dot.classList.add("updated");

    // Latest status pulse
    if (index === history.length - 1) {
      const pulse = document.createElement("div");
      pulse.classList.add("pulse");
      item.appendChild(pulse);
    }

    item.appendChild(dot);

    // Status text
    const status = document.createElement("div");
    status.classList.add("status-text");
    if (index === history.length - 1) status.classList.add("latest");
    status.textContent = update.status;
    item.appendChild(status);

    // Location
    if (update.location) {
      const loc = document.createElement("div");
      loc.classList.add("location");
      loc.textContent = update.location;
      item.appendChild(loc);
    }

    // Time
    if (update.time) {
      const t = document.createElement("div");
      t.classList.add("time");
      t.textContent = new Date(update.time).toLocaleString();
      item.appendChild(t);
    }

    // Fold older
    if (index < foldIndex) item.classList.add("hidden");

    timeline.appendChild(item);
  });

  // Fold button
  if (foldIndex > 0) {
    const foldBtn = document.createElement("span");
    foldBtn.textContent = "Show older statuses";
    foldBtn.classList.add("fold-btn");
    foldBtn.onclick = () => {
      timeline.querySelectorAll(".hidden").forEach(h => h.classList.remove("hidden"));
      foldBtn.remove();
    };
    timeline.appendChild(foldBtn);
  }

  container.appendChild(timeline);
}

// -------------------- INIT --------------------
renderTimeline(data[trackingId], document.getElementById("tracking-result"));
</script>

</body>
</html> 